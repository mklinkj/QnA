# Spring JPA Dataì—”í‹°í‹°ì˜ ì •ìˆ˜í˜• ê¸°ë³¸í‚¤ë¥¼ ë˜í¼(Wrapper) íƒ€ì…ì´ ì•„ë‹Œ ì›ì‹œ(Primitive)ë¡œ ì‚¬ìš©í•  ë•Œ.. ê¸°ë³¸í‚¤ ê°’ì´ 0ì´ë¼ë©´ ì‚­ì œê°€ ì•ˆë˜ëŠ” í˜„ìƒ

> Spring JPA Data ë©”ì„œë“œë¡œ ì‚­ì œë¥¼ í–ˆì„ ë•Œ.. ì´ìƒí•˜ê²Œ ì•ˆë˜ì—ˆë˜ ê¸°ì–µì´ ë‚˜ì„œ...
>
> ì´ë²ˆì— í•œë²ˆ í…ŒìŠ¤íŠ¸ í•˜ê¸°ë¡œí•¨.



## ì—”í‹°í‹° í´ë˜ìŠ¤

```java
@Entity
@Table(name = "t_employee")
public class Employee {
  @Id
  @GeneratedValue(strategy = GenerationType.IDENTITY)
  private int id; // ì›ì‹œ íƒ€ì…ìœ¼ë¡œ ì„¤ì •

  private String name;
}
```





## DBì˜ ê¸°ë³¸ ìƒíƒœ

í…ŒìŠ¤íŠ¸ ì‹œì‘ ì „ì— ì´ˆê¸° ë°ì´í„°ë¥¼ ë„£ì–´ì£¼ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

```sql
DROP TABLE IF EXISTS t_employee CASCADE;
CREATE TABLE IF NOT EXISTS t_employee (
    id    BIGINT        GENERATED BY DEFAULT AS IDENTITY(START WITH 0) PRIMARY KEY,
    name  VARCHAR(255)
);

INSERT INTO t_employee (name) VALUES ('Tomcat');
INSERT INTO t_employee (name) VALUES ('Struts');
INSERT INTO t_employee (name) VALUES ('Spring');
```



## 1. JPA Hibernate í”„ë¡œì íŠ¸ (Spring JPA ë¯¸ì‚¬ìš©)

í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‹¤í–‰ìˆœì„œëŠ” ì•„ë˜ì™€ ê°™ì´ í–ˆë‹¤.

1. idê°€ `0`ì¸ ì‚¬ì› ì¡°íšŒì¼ ë•Œ ì¡°íšŒëœ ì‚¬ì›ì´ ìˆëŠ”ì§€ í™•ì¸
2. remove()ë¡œ id `0`ì¸ ì‚¬ì› ì‚­ì œ
3. ì»¤ë°‹
4. idê°€ `0`ì¸ ì‚¬ì› ì¡°íšŒ í–ˆì„ ë•Œ.. ê²°ê³¼ê°€ null ì¸ì§€ í™•ì¸

#### ì•—!!! ê·¸ëŸ°ë°... 2. ë¶€ë¶„ì—ì„œ ì‚­ì œê°€ ì œëŒ€ë¡œ ì•ˆë  ê²ƒì´ë€ ìƒê°ì´ ë“¤ì—ˆëŠ”ë°... ì‚­ì œê°€ ì œëŒ€ë¡œ ëœë‹¤.

```
  ### (1) ì—ì„œ idê°€ 0ì¸ ì‚¬ì› ì¡°íšŒ: ì¡°íšŒë¨ ###
   ...
   Hibernate:
        select
            e1_0.id,
            e1_0.name
        from
            t_employee e1_0
        where
            e1_0.id=?
    05:02:15.311 [Test worker] TRACE org.hibernate.orm.jdbc.bind - binding parameter [1] as [INTEGER] - [0]
    05:02:15.313 [Test worker] TRACE org.hibernate.orm.jdbc.extract - extracted value ([1] : [INTEGER]) - [0]
    05:02:15.313 [Test worker] TRACE org.hibernate.orm.jdbc.extract - extracted value ([2] : [VARCHAR]) - [Tomcat]
    05:02:15.331 [Test worker] INFO  org.mklinkj.qna.primitive_pk.domain.EmployeeTests - 1st employee id: 0: Employee(id=0, name=Tomcat)
    ....
    
    ### (2) idê°€ 0ì¸ ì‚¬ì› ì‚­ì œ ###
    ### (3) ì»¤ë°‹ì„ í–ˆìœ¼ë‹ˆê¹Œ ì¿¼ë¦¬ ë¡œê·¸ê°€ ì‹¤í–‰ëœ ê²ƒì„ í™•ì¸.
    Hibernate:
        delete
        from
            t_employee
        where
            id=?
    05:02:15.444 [Test worker] TRACE org.hibernate.orm.jdbc.bind - binding parameter [1] as [INTEGER] - [0]

    
    ### (4) idê°€ 0ì¸ ì‚¬ì› í™•ì¸ ê²°ê³¼: null. ###
    Hibernate:
        select
            e1_0.id,
            e1_0.name
        from
            t_employee e1_0
        where
            e1_0.id=?
    05:02:15.451 [Test worker] TRACE org.hibernate.orm.jdbc.bind - binding parameter [1] as [INTEGER] - [0]
    05:02:15.451 [Test worker] INFO  org.mklinkj.qna.primitive_pk.domain.EmployeeTests - 2nd employee id: 0: null
    05:02:15.452 [Test worker] INFO  org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:hsqldb:mem:test]
```



ì•„ì§ Spring Data JPAí”„ë¡œì íŠ¸ëŠ” ì˜ˆì œëŠ” ì•„ì§ ì•ˆë§Œë“¤ì—ˆëŠ”ë°... ì¬í™•ì¸ í•´ë´ì•¼ê² ë‹¤. ğŸ‘





## 2. JPA Spring Data JPA í”„ë¡œì íŠ¸

* ...